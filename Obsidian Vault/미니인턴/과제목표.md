본 과제는 **Node.js와 Express를 활용한 백엔드 시스템의 설계 및 개발 역량**을 평가하기 위한 실전형 미니인턴 과제입니다. 오픈놀의 M클래스 신청 기능을 중심으로, **인증/인가, CRUD 구현, 데이터 정합성 유지, 예외 처리** 등의 기능을 구현하게 됩니다. 실무에 가까운 시나리오를 바탕으로 서비스 전반의 흐름을 이해하고, 시스템 설계 및 전개 능력을 종합적으로 보여줄 수 있습니다.

---

### M클래스란?

**M클래스**는 커리어 교육 플랫폼 **미니인턴(miniintern)**에서 운영하는 **온라인 클래스**입니다.

개발자, 디자이너, 기획자 등 다양한 직무를 주제로 진행되며, **정해진 기간에만 신청 가능**하고 **정원 제한이 존재**하기 때문에 트래픽에 대한 안정적인 처리 능력이 중요합니다.

(💡 M클래스가 실제로 운영되는 모습을 보고 싶다면 [🔗 M클래스](https://miniintern.com/event) 페이지를 방문해보세요.)

## 과제 목표

- 신청이 몰릴 수 있는 온라인 클래스 플랫폼의 **신청 API 서버** 구축
- 사용자 인증부터 클래스 생성 및 신청, 신청자 제한 기능까지 구현

<aside>

## 1. 기능 상세

</aside>

## 필수 기술 스택

|항목|버전/도구|
|---|---|
|Node.js|18 이상|
|프레임워크|**Express.js**|
|DB|RDB 중 자유롭게 생성|
|인증|JWT 혹은 Session 인증 방식 중 택 1|
|언어|TypeScript|
|테스트 도구|자유롭게 선택(Jest, Supertest 등)|

## 시스템 구성

- 서버 구성 (단일 Express 서버)

|역할|설명|
|---|---|
|인증 기능|회원가입, 로그인, 인증 미들웨어|
|클래스 관리|클래스 CRUD 및 권한 별 API 제어|
|신청 처리|동시성 이슈를 고려한 신청 로직 구현|
|유저 신청 내역|개인 신청 목록 조회 기능 제공|

### 1-1) 필수 **구현 기능**

1. 유저 및 M클래스 CRUD
2. 인증
3. 권한
4. 테스트 코드 작성

### 1-2) 선택 구현 기능

1. 동시성 처리 ✅
    1. ex) 최대 100명까지 가능한 클래스에 200명이 동시에 신청할 경우 DB 수준에서 100명까지만 처리되어야 합니다.
2. 신청 시 이메일 알림 받기 ✅
    - Nodemailer를 사용한 HTML 이메일 템플릿 구현
    - 신청 성공 시 자동 이메일 발송 (help@miniintern.com)
    - 개발 환경에서는 Ethereal Email 테스트 서버 사용
3. 특정 유저만 M클래스 상세 페이지에 접근 가능하도록 하기
4. Docker 설정

<aside>

## 2. API 구조

</aside>

### 2-1) 사용자

- 회원가입 (`POST /api/users/signup`)
- 로그인 (`POST /api/users/login`)
- 내 신청 내역 조회 (`GET /api/users/applications`)

### 2-2) M클래스

- M클래스 생성 (`POST /api/mclasses`)
    - 관리자 전용
    - 필드: 제목, 설명, 최대 인원, 시작일시, 종료일시
- M클래스 목록 조회 (`GET /api/mclasses`)
- M클래스 상세 조회 (`GET /api/mclasses/:id`)
- M클래스 삭제 (`DELETE /api/mclasses/:id`)
    - 관리자 전용

### 2-3) M클래스 신청

- M클래스 신청 API (`POST /api/mclasses/:id/apply`)
    - 신청 조건:
        - 중복 신청 불가
        - 마감 시간 이후 신청 불가
        - **최대 인원 초과 시 신청 거절**
    - 신청 성공 시, DB에 신청 이력 저장

---

### ► 핵심 고려사항

### 1. 정합성 유지

- 한 클래스에 **동일 유저가 여러 번 신청 불가**
- **마감 시간 이후 신청 거절**
- 이미 정원 인원이 다 찬 M클래스에는 신청 불가

### 2. 동시성 제어

- 예: 최대 100명까지 가능한 클래스에 200명이 동시에 신청할 경우, **DB 수준에서 100명까지만 처리되어야 합니다.**

<aside>

## 3. 제출 방식

</aside>

- GitHub 저장소에 코드 업로드 (Public)
- `README.md`에 아래 내용 포함:
    - 프로젝트 실행 방법
        
    - API 명세서 (표 형식 또는 Swagger)
        
        - 예시 API 명세서
        
        |기능|메서드|경로|인증|요청|응답|
        |---|---|---|---|---|---|
        |회원가입|POST|/api/users/signup|❌|email, password|userId|
        |로그인|POST|/api/users/login|❌|email, password|accessToken|
        |클래스 생성|POST|/api/classes|✅ (관리자)|title, maxCount 등|classId|
        |클래스 신청|POST|/api/classes/:id/apply|✅|없음|신청 성공 여부|
        |내 신청 내역|GET|/api/users/applications|✅|없음|신청 목록|
        
    - ERD
        
        - 예시 ERD
        
        ```
        erDiagram
            USER ||--o{ APPLICATION : has
            CLASS ||--o{ APPLICATION : receives
            USER ||--o{ CLASS : hosts
        
            USER {
                string id PK
                string email
                string password
                boolean isAdmin
            }
        
            CLASS {
                string id PK
                string title
                string description
                int maxParticipants
                datetime startAt
                datetime endAt
                string hostId FK
            }
        
            APPLICATION {
                string id PK
                string userId FK
                string classId FK
                datetime createdAt
            }
        
        ```
        
    - 기능 흐름도
        
        - 예시 기능 흐름도
        
        ```
        사용자 로그인
          ↓
        클래스 목록 조회
          ↓
        클래스 신청 버튼 클릭
          ↓
        서버에서 신청 가능 여부 확인
          ├─▶ 이미 신청했는가? → 예: 실패 응답
          ├─▶ 마감되었는가? → 예: 실패 응답
          └─▶ 인원 초과인가? → 예: 실패 응답
          ↓
        신청 기록 저장
          ↓
        성공 응답 반환
        ```
        
    - 설계 의도 및 트러블 슈팅 정리
        

<aside>

## 4. Q&A

</aside>

- **Q1. 동시성 처리를 꼭 해야 하나요?**
    - 선택사항 입니다. 여러 유저가 동시에 신청할 때, **DB 수준에서 제한을 지키는지**가 매우 중요합니다.
- **Q2. 관리자 인증은 어떻게 처리하나요?**
    - 단순히 `isAdmin` 필드를 체크하는 방식이면 충분합니다.
- **Q3. 프론트엔드는 제공되나요?**
    - 아니요. 모든 테스트는 Postman이나 Swagger로 진행 가능합니다.

본 과제는 채용 전형을 위해 제공되는 자료로, **외부 유출을 엄격히 금지합니다**.

과제 내용 전체 또는 일부를 타인과 공유하거나, 온라인 커뮤니티·SNS 등에 게시하는 행위는 금지되어 있으며, 위반 시 불이익이 발생할 수 있습니다.